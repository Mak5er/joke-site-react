# Використовуємо операційну систему з підтримкою Node.js
FROM node:14-alpine

# Створюємо та встановлюємо робочий каталог
WORKDIR /app

# Копіюємо файли package.json та package-lock.json та встановлюємо залежності
COPY package*.json ./
RUN npm install

# Копіюємо всі інші файли з поточного каталогу в робочий каталог
COPY . .

# Збираємо React-додаток
RUN npm run build

# Встановлюємо serve для обслуговування статичних файлів
RUN npm install -g serve

# Вказуємо порт, на якому буде працювати додаток
EXPOSE 3032

# Команда для запуску додатку після його збірки
CMD ["serve", "-s", "build", "-l", "3032"]
